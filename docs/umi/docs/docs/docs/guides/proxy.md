### 什么是代理（Proxy）？

代理也称网络代理，是一种特殊的网络服务，允许一个终端（一般为客户端）通过这个服务与另一个终端（一般为服务器）进行非直接的连接。代理服务器作为中间人，接收客户端的请求并将其转发给目标服务器，然后再将目标服务器的响应返回给客户端。通过使用代理，客户端可以间接地访问其他服务器上的资源，解决跨域访问问题。

### 在项目开发中如何使用代理？

在项目开发（dev）中，为了解决跨域访问问题，我们可以通过使用代理来实现。一种常见的代理方式是使用 `http-proxy-middleware` 中间件。通过在配置文件中设置代理规则，可以将特定的请求代理到另一个目标服务器上。

例如，在配置文件中添加以下代理规则：

```ts
export default {
  proxy: {
    "/api": {
      target: "http://jsonplaceholder.typicode.com/",
      changeOrigin: true,
      pathRewrite: { "^/api": "" },
    },
  },
};
```

上述配置表示，将以 `/api` 开头的请求代理到目标服务器 `http://jsonplaceholder.typicode.com/` 上。同时，将请求地址中的 `/api` 替换为空字符串，修改请求来源为目标url。例如，请求 `/api/a` 实际上是请求 `http://jsonplaceholder.typicode.com/a`。

这样，我们可以通过在本地服务器上发起代理请求，间接地获取远程服务器上的数据，解决跨域访问问题。

### 代理的作用是什么？

代理的主要作用是解决跨域访问问题。由于浏览器或者 webview 的同源策略限制，引起了跨域访问问题。通过使用代理，我们可以在本地的 node 服务器上发起请求，然后让服务器去请求非同源的远程服务器，从而绕过浏览器的同源策略。代理只是将目标服务器返回的数据传递到前端，不会直接修改发起请求的 URL。因此，在浏览器上看到的请求地址仍然是本地服务器的地址。

需要注意的是，代理只能解决开发时的跨域访问问题，在部署时可以使用同源部署。如果在生产环境中（build）出现跨域问题，可以将类似的配置转移到 Nginx 容器上进行处理。
